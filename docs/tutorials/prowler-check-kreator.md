
# Prowler Check Kreator

???+ note
    Currently, it is only available for AWS provider.

**Prowler Check Kreator** is a tool that helps you to create new checks for Prowler. It creates the necessary files to add a new check to the Prowler repository. The files that it creates are:

- Check folder
- Check file
- Metadata file
- Test folder and file

## Usage

For use it only run the main file with the following command:

```bash
python util/prowler_check_kreator/prowler_check_kreator.py <cloud_provider> <check_name>
```

In the case that you want to use a shortcut you can add a new function in your shell configuration file:

???+ note
    Set the `PROWLER_PATH` environment variable with the path to the Prowler repository.

**For Bash shell:**

Add an alias in your `~/.bashrc` file:

```bash
function pck() {
    CWD=$PWD
    cd "$PROWLER_PATH"

    arg1=$1
    arg2=$2

    # Only pass arguments if they exist
    if [ -z "$arg1" ]; then
        arg1=""
    fi
    if [ -z "$arg2" ]; then
        arg2=""
    fi

    poetry run python ./util/prowler_check_kreator/prowler_check_kreator.py $arg1 $arg2
    cd "$CWD"
}
```

**For Zsh shell:**

Add an alias in your `~/.zshrc` file:

```bash
function pck() {
    CWD=$PWD
    cd "$PROWLER_PATH"

    arg1=$1
    arg2=$2

    # Only pass arguments if they exist
    if [ -z "$arg1" ]; then
        arg1=""
    fi
    if [ -z "$arg2" ]; then
        arg2=""
    fi

    poetry run python ./util/prowler_check_kreator/prowler_check_kreator.py $arg1 $arg2
    cd "$CWD"
}
```

**For Fish shell:**

Add a function in your `~/.config/fish/config.fish` file:

```bash
function pck
    set CWD $PWD
    cd $PROWLER_PATH
    poetry run python ./util/prowler_check_kreator/prowler_check_kreator.py $argv[1] $argv[2]
    cd $CWD
end
```

## AI integration

???+ warning
    Be careful with the code/information generated by the AI, it could have some errors.
    Related to metadata, the AI could generate the metadata file with some wrong links, commands or information, review the information before commit it.
    Related to the check code, the AI does not change the services, so probably you need to change some code to make it work, take this tool more than a helper than a full solution.

The tool could use AI to generate the check code and the metadata file. For now the tool only support integration with [Gemini](https://gemini.google.com/), to use it you only need to indicate when the tool ask for it and have set the `GEMINI_API_KEY` environment variable with the Gemini API key. To get your API key refer to the [Gemini documentation](https://ai.google.dev/gemini-api/docs/api-key).
